---
layout: post
title: "c++算法编写时所遇到的问题及解决方法"
date: 2024-12-05 11:16:52 +0800
permalink: c++算法出现的问题记录
---
# c++算法编写时所遇到的问题及解决方法

***
1. Iin_1中会出现空值nan的情况；  
在读取数据时，两组数据长度不一致，而之前长度一直是一致的，故此没有考虑数据长度不一致的情况，直接将其MatrixXd.array()相除，相除的过程中，由于数据长度不一致，多出来的部分数据自然就会出现异常的情况；  
**解决方案：**读取时尽可能保证所有数据长度一致，若长度不一致，做一定的处理保证其一致，或者取用长度短的数据做处理等；

2. 内存访问错误：如：Critical error detected c0000374
如下代码中：

```  
int indexminR, indexminC;
double minfi2 = fit.minCoeff(&indexminR,&indexminC);
```  
* 若上述代码中,fit中所有的数据近乎一致，即，数据达到了稳定，故此可能没有最大或最小值了，但此时`indexminR`和`indexminC`又没有初始化，因此在后续直接使用这两个变量作为数组或向量的索引时会出现内存访问错误。  
* 在另外一个数组初始化时`(MatrixXd value(maxGen,1))`;应该为`maxGen`但是初始化时用的却是长度更小的一个数字，但是循环次数却是`maxGen`所以会出现循环至后面时访问数组内存出现问题的情况。
* 在动态更改矩阵大小时：如
```
fitzs.conservativeResize(i + 1, 0);
```
想写的是列数为1，但是由于矩阵是从0开始的索引，所以习惯性的在这里写成了0，想表示1列的意思，但是此处是为了改变矩阵的大小，矩阵的大小列数不可能是0，如果是0会导致后续无法对索引进行正常的访问，所以在这里会出问题。
